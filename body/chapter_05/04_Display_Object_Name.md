<div id="sect_title_img_5_4"></div>

<div id="sect_title_text"></div>

# オブジェクト名の表示サポート

<div id="preface"></div>

###### 　


<div id="space_s"></div>


本節では、*3Dビュー* エリアに表示されているオブジェクトの名前とマウスカーソルが重なったオブジェクトの名前を表示するアドオンを紹介します。本節のサンプルは、主に[3-8節](../chapter_03/08_Use_Coordinate_Transformation_1.md)と[3-9節](../chapter_03/09_Use_Coordinate_Transformation_2.md)で説明した内容を使って作成したアドオンです。


## アドオンのソースコード

本節で紹介するアドオンは、[はじめに](../../README.md)の『本書で紹介するサンプルのソースコードについて』に記載したサンプルアドオンのダウンロード先から、ダウンロードできます。```chapter_05/sample_5_4.py``` を探してダウンロードしてください。


## 関連する節

本節のサンプルに使われているAPIについて説明している箇所は、次の通りです。細かいところも含めると他の箇所も関係していますが、ここでは特に関連が深い箇所に絞って記載します。

* [2-1. アドオン開発の基礎を身につける](../chapter_02/01_Basic_of_Add-on_Development.md)
  * 基本的なアドオンの作り方
* [3-1. マウスクリックのイベントを扱う](../chapter_03/01_Handle_Mouse_Click_Event.md)
  * プロパティパネルにおけるUI構築方法
* [3-5. blfモジュールを使ってテキストを描画する](../chapter_03/05_Render_String_with_blf_Module.md)
  * ```blf``` モジュールを利用したテキスト描画の方法
* [3-8. 座標変換を活用する①](../chapter_03/08_Use_Coordinate_Transformation_1.md)
  * 3D空間の座標をリージョン座標へ変換する方法
* [3-9. 座標変換を活用する②](../chapter_03/09_Use_Coordinate_Transformation_2.md)
  * リージョン座標を3D空間の座標へ変換する方法
  * レイとオブジェクトの交差判定方法
* [3-10. ユーザー・プリファレンスを活用する](../chapter_03/10_Use_User_Preference.md)
  * ユーザー・プリファレンスにアドオン設定情報を配置する方法


## アドオンの仕様

* *3Dビュー* エリアのプロパティパネルの項目 *オブジェクト名の表示サポート* に、オブジェクト名の表示サポート機能を開始/終了するためのボタンを配置する
* オブジェクト名の表示サポート機能が動作している間は、次に示す処理を行う
  * *3Dビュー* エリアに表示されている全てのオブジェクトについて、オブジェクトの位置にオブジェクトの名前を表示する
  * *オブジェクトモード* 時に *3Dビュー* エリアに配置されているメッシュ型オブジェクトとマウスが重なった時に、マウスと重なった全てのオブジェクトを *3Dビュー* エリアの *ウィンドウ* リージョンの左上に表示する
  * オブジェクト名の表示位置とフォントサイズは、ユーザー・プリファレンスのアドオン設定から選択できる（表示位置を変更できるのは、メッシュ型オブジェクトとマウスが重なったときに表示されるオブジェクト名に対してのみ）


<div id="space_m"></div>


### アドオンの機能を使用する

次の手順に従って、アドオンの動作を確認します。


<div id="process_title"></div>

##### Work

<div id="process"></div>

|<div id="box">1</div>|*3Dビュー* エリアのプロパティパネルに追加された項目 *オブジェクト名の表示サポート* に配置されている *開始* ボタンをクリックします。|![オブジェクト名の表示サポート 手順1](https://dl.dropboxusercontent.com/s/i4s2mc5h10ubntq/use_add-on_1.png "オブジェクト名の表示サポート 手順1")|
|---|---|---|

<div id="process_sep"></div>

---

<div id="process"></div>

|<div id="box">2</div>|*3Dビュー* エリアで表示されているオブジェクトに重なるように、それぞれのオブジェクトの名前が表示されます。|![オブジェクト名の表示サポート 手順2](https://dl.dropboxusercontent.com/s/gksjey627jwapzv/use_add-on_2.png "オブジェクト名の表示サポート 手順2")|
|---|---|---|

<div id="process_sep"></div>

---

<div id="process"></div>

|<div id="box">3</div>|*オブジェクトモード* 時に、*マウスカーソル* と重なったオブジェクト名が *3Dビュー* エリアの *ウィンドウ* リージョンに表示されます。|![オブジェクト名の表示サポート 手順3](https://dl.dropboxusercontent.com/s/t5d6aga6euso89d/use_add-on_3.png "オブジェクト名の表示サポート 手順3")|
|---|---|---|


<div id="process_sep"></div>

---

<div id="process"></div>

|<div id="box">4</div>|ユーザー・プリファレンスから、それぞれの機能で表示される文字列について、表示文字列のフォントサイズや位置を変更することができます。|![オブジェクト名の表示サポート 手順4](https://dl.dropboxusercontent.com/s/v6i66j1qpm892cr/use_add-on_4.png "オブジェクト名の表示サポート 手順4")|
|---|---|---|

<div id="process_sep"></div>

---

<div id="process"></div>

|<div id="box">5</div>|*3Dビュー* エリアのプロパティパネルの項目 *オブジェクト名の表示サポート* に配置されている *終了* ボタンをクリックすると、オブジェクトの名前が *ウィンドウ* リージョンに表示されなくなります。|![オブジェクト名の表示サポート 手順5](https://dl.dropboxusercontent.com/s/lu6tr95ygft3k9o/use_add-on_5.png "オブジェクト名の表示サポート 手順5")|
|---|---|---|


<div id="process_start_end"></div>

---

<div id="space_page"></div>
